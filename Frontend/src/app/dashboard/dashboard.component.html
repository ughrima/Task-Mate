<!-- <div class="dashboard-container">
  <aside class="sidebar">
    <div class="logo">
      <img src="../../assets/logo1.png" alt="Task Mate Logo">
      <h4>Task Mate</h4>
    </div>
    <nav class="nav-menu">
      <a (click)="loadProjects()" class="nav-link"><i class="fas fa-tachometer-alt"></i> All Projects</a>
      <a (click)="loadCompleteProjects()" class="nav-link"><i class="fas fa-folder"></i> Complete</a>
      <a (click)="loadIncompleteProjects()" class="nav-link"><i class="fas fa-list"></i> Incomplete</a>
      <a (click)="loadImportantProjects()" class="nav-link"><i class="fas fa-layer-group"></i> Important</a>
    </nav>
  </aside>
  <main class="main-content">
    <div class="top-bar">
      <h2>{{ currentView | titlecase }} Projects</h2>
      <button class="add-new" (click)="openAddProjectModal()">+ Add New</button>
    </div>
    <div class="statistics">
      <div class="stat">
        <h3>{{ projects.length }}</h3>
        <p>Total Projects</p>
      </div>
      <div class="stat">
        <h3>{{ completedTasksCount }}</h3>
        <p>Tasks Completed</p>
      </div>
      <div class="stat">
        <h3>3</h3>
        <p>Categories</p>
      </div>
    </div>
    <div class="project-list">
      <div *ngFor="let project of projects" class="project-item" [ngClass]="{'complete': isProjectComplete(project), 'important': project.important}">
        <div class="project-header">
          <h3>{{ project.name }}</h3>
          <button class="add-task" (click)="openAddTaskModal(project)">+ Add Task</button>
        </div>
        <div class="task-list">
          <div *ngFor="let task of project.tasks" class="task-item">
            <label>
              <input type="checkbox" [checked]="task.completed" (change)="updateTaskStatus(task)">
              {{ task.title }}
            </label>
          </div>
        </div>
        <p class="project-date">{{ project.createdAt | date:'dd/MM/yy' }}</p>
        <div class="project-footer">
          <div class="project-labels">
            <span *ngIf="project.important" class="label important">Important</span>
            <span *ngIf="isProjectComplete(project)" class="label complete">Complete</span>
            <span *ngIf="!isProjectComplete(project)" class="label incomplete">Incomplete</span>
          </div>
          <div class="project-actions">
            <button class="icon-btn" (click)="deleteProject(project)">
              <i class="fas fa-trash-alt"></i>
            </button>
            <button class="icon-btn" (click)="openEditProjectModal(project)">
              <i class="fas fa-pen"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <app-add-project-modal *ngIf="isModalOpen" (close)="closeAddProjectModal()" (projectAdded)="onProjectAdded($event)"></app-add-project-modal>
    <app-edit-project-modal *ngIf="isEditModalOpen" [project]="selectedProject!" (close)="closeEditProjectModal()" (projectUpdated)="onProjectUpdated($event)"></app-edit-project-modal>
    <app-add-task-modal *ngIf="isTaskModalOpen" [project]="selectedProject!" (close)="closeAddTaskModal()" (taskAdded)="onTaskAdded($event)"></app-add-task-modal>
  </main>
</div> -->


<div class="dashboard-container">
  <aside class="sidebar">
    <div class="logo">
      <img src="../../assets/logo1.png" alt="Task Mate Logo">
      <h4>Task Mate</h4>
    </div>
    <nav class="nav-menu">
      <a (click)="loadProjects()" class="nav-link"><i class="fas fa-tachometer-alt"></i> All Projects</a>
      <a (click)="loadCompleteProjects()" class="nav-link"><i class="fas fa-folder"></i> Complete</a>
      <a (click)="loadIncompleteProjects()" class="nav-link"><i class="fas fa-list"></i> Incomplete</a>
      <a (click)="loadImportantProjects()" class="nav-link"><i class="fas fa-layer-group"></i> Important</a>
    </nav>
  </aside>
  <main class="main-content">
    <div class="top-bar">
      <h2>{{ currentView | titlecase }} Projects</h2>
      <button class="add-new" (click)="openAddProjectModal()">+ Add New</button>
    </div>
    <div class="statistics">
      <div class="stat">
        <h3>{{ projects.length }}</h3>
        <p>Total Projects</p>
      </div>
      <div class="stat">
        <h3>{{ completedTasksCount }}</h3>
        <p>Tasks Completed</p>
      </div>
      <div class="stat">
        <h3>3</h3>
        <p>Categories</p>
      </div>
    </div>
    <div class="project-list">
      <div *ngFor="let project of projects" class="project-item">
        <div class="project-header" [ngClass]="{'complete-header': isProjectComplete(project), 'important-header': project.important}">
          <h2>{{ project.name }}</h2>
          <button class="add-task" (click)="openAddTaskModal(project)">+ Add Task</button>
        </div>
        <div class="task-list">
          <div *ngFor="let task of project.tasks" class="task-item">
            <label>
              <input type="checkbox" [checked]="task.completed" (change)="updateTaskStatus(task)">
              {{ task.title }}
            </label>
          </div>
        </div>
        <p class="project-date">{{ project.createdAt | date:'dd/MM/yy' }}</p>
        <div class="project-footer">
          <div class="project-labels">
            <span *ngIf="project.important" class="label important">Important</span>
            <span *ngIf="isProjectComplete(project)" class="label complete">Complete</span>
            <span *ngIf="!isProjectComplete(project)" class="label incomplete">Incomplete</span>
          </div>
          <div class="project-actions">
            <button class="icon-btn" (click)="deleteProject(project)">
              <i class="fas fa-trash-alt"></i>
            </button>
            <button class="icon-btn" (click)="openEditProjectModal(project)">
              <i class="fas fa-pen"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <app-add-project-modal *ngIf="isModalOpen" (close)="closeAddProjectModal()" (projectAdded)="onProjectAdded($event)"></app-add-project-modal>
    <app-edit-project-modal *ngIf="isEditModalOpen" [project]="selectedProject!" (close)="closeEditProjectModal()" (projectUpdated)="onProjectUpdated($event)"></app-edit-project-modal>
    <app-add-task-modal *ngIf="isTaskModalOpen" [project]="selectedProject!" (close)="closeAddTaskModal()" (taskAdded)="onTaskAdded($event)"></app-add-task-modal>
  </main>
</div>
